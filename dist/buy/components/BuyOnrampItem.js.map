{"version":3,"file":"BuyOnrampItem.js","sources":["../../../src/buy/components/BuyOnrampItem.tsx"],"sourcesContent":["'use client';\nimport type { SwapUnit } from '@/swap/types';\nimport { usdcToken } from '@/token/constants';\nimport { useCallback, useMemo } from 'react';\nimport { applePaySvg } from '../../internal/svg/applePaySvg';\nimport { cardSvg } from '../../internal/svg/cardSvg';\nimport { coinbaseLogoSvg } from '../../internal/svg/coinbaseLogoSvg';\nimport { cn, color, pressable, text } from '../../styles/theme';\nimport { useBuyContext } from './BuyProvider';\n\ntype OnrampItemReact = {\n  name: string;\n  description: string;\n  onClick: () => void;\n  svg?: React.ReactNode;\n  icon: string;\n  to?: SwapUnit;\n};\n\nconst ONRAMP_ICON_MAP: Record<string, React.ReactNode> = {\n  applePay: applePaySvg,\n  coinbasePay: coinbaseLogoSvg,\n  creditCard: cardSvg,\n};\n\nexport function BuyOnrampItem({\n  name,\n  description,\n  onClick,\n  icon,\n  to,\n}: OnrampItemReact) {\n  const { setIsDropdownOpen } = useBuyContext();\n\n  const handleClick = useCallback(() => {\n    setIsDropdownOpen(false);\n    onClick();\n  }, [onClick, setIsDropdownOpen]);\n\n  const fiatAmount = useMemo(() => {\n    // if token is USDC the usd estimate\n    // can be slightly off (4.9999999) so\n    // use amount instead to prevent disabling of onramp\n    if (\n      to?.token?.address?.toLowerCase() === usdcToken?.address.toLowerCase()\n    ) {\n      return to?.amount;\n    }\n    return to?.amountUSD;\n  }, [to]);\n\n  // Debit and Apple Pay have a minimum purchase amount of $5\n  const isDisabled =\n    !fiatAmount || (Number.parseFloat(fiatAmount) < 5 && name !== 'Coinbase');\n\n  const message = useMemo(() => {\n    if (isDisabled) {\n      return 'Minimum purchase amount is $5';\n    }\n    return description;\n  }, [isDisabled, description]);\n\n  return (\n    <button\n      className={cn(\n        'flex items-center gap-2 rounded-lg p-2',\n        text.label2,\n        !isDisabled && pressable.default,\n        isDisabled && color.foregroundMuted,\n      )}\n      onClick={handleClick}\n      type=\"button\"\n      data-testid={`ock-${icon}OnrampItem`}\n      disabled={isDisabled}\n    >\n      <div className=\"flex h-9 w-9 items-center justify-center\">\n        {ONRAMP_ICON_MAP[icon]}\n      </div>\n      <div className=\"flex flex-col items-start\">\n        <div className=\"relative flex items-center gap-1\">\n          <div>{name}</div>\n        </div>\n        <div className={cn('text-xs', color.foregroundMuted)}>{message}</div>\n      </div>\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;AAmBA,MAAM,kBAAmD;AAAA,EACvD,UAAU;AAAA,EACV,aAAa;AAAA,EACb,YAAY;AACd;AAEO,SAAS,cAAc;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAoB;AAClB,QAAM,EAAE,kBAAA,IAAsB,cAAA;AAE9B,QAAM,cAAc,YAAY,MAAM;AACpC,sBAAkB,KAAK;AACvB,YAAA;AAAA,EACF,GAAG,CAAC,SAAS,iBAAiB,CAAC;AAE/B,QAAM,aAAa,QAAQ,MAAM;;AAI/B,UACE,oCAAI,UAAJ,mBAAW,YAAX,mBAAoB,qBAAkB,sCAAW,QAAQ,gBACzD;AACA,aAAO,yBAAI;AAAA,IACb;AACA,WAAO,yBAAI;AAAA,EACb,GAAG,CAAC,EAAE,CAAC;AAGP,QAAM,aACJ,CAAC,cAAe,OAAO,WAAW,UAAU,IAAI,KAAK,SAAS;AAEhE,QAAM,UAAU,QAAQ,MAAM;AAC5B,QAAI,YAAY;AACd,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT,GAAG,CAAC,YAAY,WAAW,CAAC;AAE5B,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA,KAAK;AAAA,QACL,CAAC,cAAc,UAAU;AAAA,QACzB,cAAc,MAAM;AAAA,MAAA;AAAA,MAEtB,SAAS;AAAA,MACT,MAAK;AAAA,MACL,eAAa,OAAO,IAAI;AAAA,MACxB,UAAU;AAAA,MAEV,UAAA;AAAA,QAAA,uBAAC,OAAA,EAAI,WAAU,4CACZ,UAAA,gBAAgB,IAAI,EAAA,GADvB,QAAA,OAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAEA;AAAA,QACA,uBAAC,OAAA,EAAI,WAAU,6BACb,UAAA;AAAA,UAAA,uBAAC,OAAA,EAAI,WAAU,oCACb,UAAA,uBAAC,SAAK,UAAA,QAAN,QAAA,OAAA;AAAA,YAAA,UAAA;AAAA,YAAA,YAAA;AAAA,YAAA,cAAA;AAAA,UAAA,GAAA,IAAW,EAAA,GADb,QAAA,OAAA;AAAA,YAAA,UAAA;AAAA,YAAA,YAAA;AAAA,YAAA,cAAA;AAAA,UAAA,GAAA,IAEA;AAAA,UACA,uBAAC,SAAI,WAAW,GAAG,WAAW,MAAM,eAAe,GAAI,UAAA,WAAvD,QAAA,OAAA;AAAA,YAAA,UAAA;AAAA,YAAA,YAAA;AAAA,YAAA,cAAA;AAAA,UAAA,GAAA,IAA+D;AAAA,QAAA,EAAA,GAJjE,QAAA,MAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAKA;AAAA,MAAA;AAAA,IAAA;AAAA,IApBF;AAAA,IAAA;AAAA,IAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA;AAAA,IAAA;AAAA,EAAA;AAuBJ;"}