{"version":3,"file":"BuyTokenItem.js","sources":["../../../src/buy/components/BuyTokenItem.tsx"],"sourcesContent":["'use client';\nimport { useCallback, useMemo } from 'react';\nimport { getRoundedAmount } from '../../internal/utils/getRoundedAmount';\nimport { cn, color, pressable, text } from '../../styles/theme';\nimport type { SwapUnit } from '../../swap/types';\nimport { TokenImage } from '../../token';\nimport { useBuyContext } from './BuyProvider';\n\nexport function BuyTokenItem({ swapUnit }: { swapUnit?: SwapUnit }) {\n  const { handleSubmit, setIsDropdownOpen } = useBuyContext();\n\n  if (!swapUnit || !swapUnit.token) {\n    return null;\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const handleClick = useCallback(() => {\n    setIsDropdownOpen(false);\n    handleSubmit(swapUnit);\n  }, [handleSubmit, swapUnit, setIsDropdownOpen]);\n\n  const hasInsufficientBalance =\n    !swapUnit.balance ||\n    Number.parseFloat(swapUnit.balance) < Number.parseFloat(swapUnit.amount);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const roundedAmount = useMemo(() => {\n    if (!swapUnit.amount) {\n      return '';\n    }\n    return getRoundedAmount(swapUnit.amount, 10);\n  }, [swapUnit.amount]);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const roundedBalance = useMemo(() => {\n    return getRoundedAmount(swapUnit.balance || '0', 3);\n  }, [swapUnit.balance]);\n\n  return (\n    <button\n      className={cn(\n        'flex items-center gap-2 rounded-lg p-2',\n        !hasInsufficientBalance && pressable.default,\n        text.label2,\n      )}\n      onClick={handleClick}\n      type=\"button\"\n      disabled={hasInsufficientBalance}\n    >\n      <TokenImage token={swapUnit.token} size={36} />\n      <div\n        className={cn(\n          'flex flex-col items-start',\n          hasInsufficientBalance ? color.foregroundMuted : color.foreground,\n        )}\n      >\n        <div>\n          {roundedAmount} {swapUnit.token.name}\n        </div>\n        <div\n          className={cn(\n            'text-xs',\n            hasInsufficientBalance ? color.error : color.foregroundMuted,\n          )}\n        >{`${\n          hasInsufficientBalance ? 'Insufficient balance' : 'Balance'\n        }: ${roundedBalance}`}</div>\n      </div>\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAQO,SAAS,aAAa,EAAE,YAAqC;AAClE,QAAM,EAAE,cAAc,kBAAA,IAAsB,cAAA;AAE5C,MAAI,CAAC,YAAY,CAAC,SAAS,OAAO;AAChC,WAAO;AAAA,EACT;AAGA,QAAM,cAAc,YAAY,MAAM;AACpC,sBAAkB,KAAK;AACvB,iBAAa,QAAQ;AAAA,EACvB,GAAG,CAAC,cAAc,UAAU,iBAAiB,CAAC;AAE9C,QAAM,yBACJ,CAAC,SAAS,WACV,OAAO,WAAW,SAAS,OAAO,IAAI,OAAO,WAAW,SAAS,MAAM;AAGzE,QAAM,gBAAgB,QAAQ,MAAM;AAClC,QAAI,CAAC,SAAS,QAAQ;AACpB,aAAO;AAAA,IACT;AACA,WAAO,iBAAiB,SAAS,QAAQ,EAAE;AAAA,EAC7C,GAAG,CAAC,SAAS,MAAM,CAAC;AAGpB,QAAM,iBAAiB,QAAQ,MAAM;AACnC,WAAO,iBAAiB,SAAS,WAAW,KAAK,CAAC;AAAA,EACpD,GAAG,CAAC,SAAS,OAAO,CAAC;AAErB,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA,CAAC,0BAA0B,UAAU;AAAA,QACrC,KAAK;AAAA,MAAA;AAAA,MAEP,SAAS;AAAA,MACT,MAAK;AAAA,MACL,UAAU;AAAA,MAEV,UAAA;AAAA,QAAA,uBAAC,YAAA,EAAW,OAAO,SAAS,OAAO,MAAM,GAAA,GAAzC,QAAA,OAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAA6C;AAAA,QAC7C;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,yBAAyB,MAAM,kBAAkB,MAAM;AAAA,YAAA;AAAA,YAGzD,UAAA;AAAA,cAAA,uBAAC,OAAA,EACE,UAAA;AAAA,gBAAA;AAAA,gBAAc;AAAA,gBAAE,SAAS,MAAM;AAAA,cAAA,EAAA,GADlC,QAAA,MAAA;AAAA,gBAAA,UAAA;AAAA,gBAAA,YAAA;AAAA,gBAAA,cAAA;AAAA,cAAA,GAAA,IAEA;AAAA,cACA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAW;AAAA,oBACT;AAAA,oBACA,yBAAyB,MAAM,QAAQ,MAAM;AAAA,kBAAA;AAAA,kBAE/C,UAAA,GACA,yBAAyB,yBAAyB,SACpD,KAAK,cAAc;AAAA,gBAAA;AAAA,gBAPnB;AAAA,gBAAA;AAAA,gBAAA;AAAA,kBAAA,UAAA;AAAA,kBAAA,YAAA;AAAA,kBAAA,cAAA;AAAA,gBAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,YAOsB;AAAA,UAAA;AAAA,UAhBxB;AAAA,UAAA;AAAA,UAAA;AAAA,YAAA,UAAA;AAAA,YAAA,YAAA;AAAA,YAAA,cAAA;AAAA,UAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MAiBA;AAAA,IAAA;AAAA,IA5BF;AAAA,IAAA;AAAA,IAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA;AAAA,IAAA;AAAA,EAAA;AA+BJ;"}