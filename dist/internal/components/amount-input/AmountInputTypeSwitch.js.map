{"version":3,"file":"AmountInputTypeSwitch.js","sources":["../../../../src/internal/components/amount-input/AmountInputTypeSwitch.tsx"],"sourcesContent":["import { cn, pressable, text } from '@/styles/theme';\nimport { useCallback, useMemo } from 'react';\nimport { useIcon } from '../../hooks/useIcon';\nimport { formatFiatAmount } from '../../utils/formatFiatAmount';\nimport { truncateDecimalPlaces } from '../../utils/truncateDecimalPlaces';\nimport { Skeleton } from '../Skeleton';\n\ntype AmountInputTypeSwitchPropsReact = {\n  selectedInputType: 'fiat' | 'crypto';\n  setSelectedInputType: (type: 'fiat' | 'crypto') => void;\n  asset: string;\n  fiatAmount: string;\n  cryptoAmount: string;\n  exchangeRate: number;\n  exchangeRateLoading: boolean;\n  loadingDisplay?: React.ReactNode;\n  currency: string;\n  className?: string;\n};\n\nexport function AmountInputTypeSwitch({\n  selectedInputType,\n  setSelectedInputType,\n  asset,\n  fiatAmount,\n  cryptoAmount,\n  exchangeRate,\n  exchangeRateLoading,\n  currency,\n  loadingDisplay = <Skeleton className=\"h-[1.625rem]\" />,\n  className,\n}: AmountInputTypeSwitchPropsReact) {\n  const iconSvg = useIcon({ icon: 'toggle' });\n\n  const handleToggle = useCallback(() => {\n    setSelectedInputType(selectedInputType === 'fiat' ? 'crypto' : 'fiat');\n  }, [selectedInputType, setSelectedInputType]);\n\n  const formatCrypto = useCallback(\n    (amount: string) => {\n      return `${truncateDecimalPlaces(amount || '0', 8)} ${asset}`;\n    },\n    [asset],\n  );\n\n  const amountLine = useMemo(() => {\n    return (\n      <span data-testid=\"ockAmountLine\" className={cn(text.label1)}>\n        {selectedInputType === 'fiat'\n          ? formatCrypto(cryptoAmount)\n          : formatFiatAmount({\n              amount: fiatAmount,\n              currency: currency,\n              minimumFractionDigits: 0,\n            })}\n      </span>\n    );\n  }, [cryptoAmount, fiatAmount, selectedInputType, formatCrypto, currency]);\n\n  if (exchangeRateLoading || !exchangeRate) {\n    return loadingDisplay;\n  }\n\n  return (\n    <div className={cn('flex items-center', className)}>\n      <button\n        type=\"button\"\n        aria-label=\"amount type switch\"\n        className={cn(\n          pressable.default,\n          'mr-1 rounded-full p-1 opacity-50 transition-opacity hover:opacity-100',\n        )}\n        data-testid=\"ockAmountTypeSwitch\"\n        onClick={handleToggle}\n      >\n        <div className=\"h-[1.125rem] w-[1.125rem]\">{iconSvg}</div>\n      </button>\n      <div className=\"w-full truncate\">{amountLine}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAoBO,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,iBAAiB,uBAAC,UAAA,EAAS,WAAU,eAAA,GAApB,QAAA,OAAA;AAAA,IAAA,UAAA;AAAA,IAAA,YAAA;AAAA,IAAA,cAAA;AAAA,EAAA,GAAA,IAAmC;AAAA,EACpD;AACF,GAAoC;AAClC,QAAM,UAAU,QAAQ,EAAE,MAAM,UAAU;AAE1C,QAAM,eAAe,YAAY,MAAM;AACrC,yBAAqB,sBAAsB,SAAS,WAAW,MAAM;AAAA,EACvE,GAAG,CAAC,mBAAmB,oBAAoB,CAAC;AAE5C,QAAM,eAAe;AAAA,IACnB,CAAC,WAAmB;AAClB,aAAO,GAAG,sBAAsB,UAAU,KAAK,CAAC,CAAC,IAAI,KAAK;AAAA,IAC5D;AAAA,IACA,CAAC,KAAK;AAAA,EAAA;AAGR,QAAM,aAAa,QAAQ,MAAM;AAC/B,WACE,uBAAC,QAAA,EAAK,eAAY,iBAAgB,WAAW,GAAG,KAAK,MAAM,GACxD,UAAA,sBAAsB,SACnB,aAAa,YAAY,IACzB,iBAAiB;AAAA,MACf,QAAQ;AAAA,MACR;AAAA,MACA,uBAAuB;AAAA,IAAA,CACxB,EAAA,GAPP,QAAA,OAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA,GAAA,IAQA;AAAA,EAEJ,GAAG,CAAC,cAAc,YAAY,mBAAmB,cAAc,QAAQ,CAAC;AAExE,MAAI,uBAAuB,CAAC,cAAc;AACxC,WAAO;AAAA,EACT;AAEA,gCACG,OAAA,EAAI,WAAW,GAAG,qBAAqB,SAAS,GAC/C,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,cAAW;AAAA,QACX,WAAW;AAAA,UACT,UAAU;AAAA,UACV;AAAA,QAAA;AAAA,QAEF,eAAY;AAAA,QACZ,SAAS;AAAA,QAET,UAAA,uBAAC,OAAA,EAAI,WAAU,6BAA6B,UAAA,QAAA,GAA5C,QAAA,OAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAAoD;AAAA,MAAA;AAAA,MAVtD;AAAA,MAAA;AAAA,MAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAYA,uBAAC,OAAA,EAAI,WAAU,mBAAmB,UAAA,WAAA,GAAlC,QAAA,OAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA,GAAA,IAA6C;AAAA,EAAA,EAAA,GAb/C,QAAA,MAAA;AAAA,IAAA,UAAA;AAAA,IAAA,YAAA;AAAA,IAAA,cAAA;AAAA,EAAA,GAAA,IAcA;AAEJ;"}