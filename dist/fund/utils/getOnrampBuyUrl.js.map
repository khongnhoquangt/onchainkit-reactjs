{"version":3,"file":"getOnrampBuyUrl.js","sources":["../../../src/fund/utils/getOnrampBuyUrl.ts"],"sourcesContent":["import { version } from '@/version';\nimport { ONRAMP_BUY_URL } from '../constants';\nimport type {\n  GetOnrampUrlWithProjectIdParams,\n  GetOnrampUrlWithSessionTokenParams,\n} from '../types';\n\n/**\n * Builds a Coinbase Onramp buy URL using the provided parameters.\n * @param projectId a projectId generated in the Coinbase Developer Portal\n * @returns the URL\n */\nexport function getOnrampBuyUrl({\n  projectId,\n  originComponentName,\n  ...props\n}: GetOnrampUrlWithProjectIdParams | GetOnrampUrlWithSessionTokenParams) {\n  const url = new URL(ONRAMP_BUY_URL);\n\n  if (projectId !== undefined) {\n    // Coinbase Onramp requires projectId to be passed as appId\n    url.searchParams.append('appId', projectId);\n  }\n\n  for (const key of Object.keys(props) as Array<keyof typeof props>) {\n    const value = props[key];\n    if (value !== undefined) {\n      if (['string', 'number', 'boolean'].includes(typeof value)) {\n        url.searchParams.append(key, value.toString());\n      } else {\n        url.searchParams.append(key, JSON.stringify(value));\n      }\n    }\n  }\n\n  if (originComponentName) {\n    url.searchParams.append(\n      'sdkVersion',\n      `onchainkit@${version}:${originComponentName}`,\n    );\n  } else {\n    url.searchParams.append('sdkVersion', `onchainkit@${version}`);\n  }\n\n  url.searchParams.sort();\n\n  return url.toString();\n}\n"],"names":[],"mappings":";;AAYO,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAyE;AACvE,QAAM,MAAM,IAAI,IAAI,cAAc;AAElC,MAAI,cAAc,QAAW;AAE3B,QAAI,aAAa,OAAO,SAAS,SAAS;AAAA,EAC5C;AAEA,aAAW,OAAO,OAAO,KAAK,KAAK,GAAgC;AACjE,UAAM,QAAQ,MAAM,GAAG;AACvB,QAAI,UAAU,QAAW;AACvB,UAAI,CAAC,UAAU,UAAU,SAAS,EAAE,SAAS,OAAO,KAAK,GAAG;AAC1D,YAAI,aAAa,OAAO,KAAK,MAAM,UAAU;AAAA,MAC/C,OAAO;AACL,YAAI,aAAa,OAAO,KAAK,KAAK,UAAU,KAAK,CAAC;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAEA,MAAI,qBAAqB;AACvB,QAAI,aAAa;AAAA,MACf;AAAA,MACA,cAAc,OAAO,IAAI,mBAAmB;AAAA,IAAA;AAAA,EAEhD,OAAO;AACL,QAAI,aAAa,OAAO,cAAc,cAAc,OAAO,EAAE;AAAA,EAC/D;AAEA,MAAI,aAAa,KAAA;AAEjB,SAAO,IAAI,SAAA;AACb;"}