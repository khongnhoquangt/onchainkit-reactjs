{"version":3,"file":"useFundCardFundingUrl.js","sources":["../../../src/fund/hooks/useFundCardFundingUrl.ts"],"sourcesContent":["import { useOnchainKit } from '@/useOnchainKit';\nimport { useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport { useFundContext } from '../components/FundCardProvider';\nimport { getOnrampBuyUrl } from '../utils/getOnrampBuyUrl';\n\nexport const useFundCardFundingUrl = () => {\n  const { projectId, chain: defaultChain } = useOnchainKit();\n  const { address, chain: accountChain } = useAccount();\n  const {\n    selectedPaymentMethod,\n    selectedInputType,\n    fundAmountFiat,\n    fundAmountCrypto,\n    asset,\n    currency,\n  } = useFundContext();\n\n  const chain = accountChain || defaultChain;\n\n  return useMemo(() => {\n    if (projectId === null || address === undefined) {\n      return undefined;\n    }\n\n    const fundAmount =\n      selectedInputType === 'fiat' ? fundAmountFiat : fundAmountCrypto;\n\n    return getOnrampBuyUrl({\n      projectId,\n      assets: [asset],\n      presetFiatAmount:\n        selectedInputType === 'fiat' ? Number(fundAmount) : undefined,\n      presetCryptoAmount:\n        selectedInputType === 'crypto' ? Number(fundAmount) : undefined,\n      defaultPaymentMethod: selectedPaymentMethod?.id,\n      addresses: { [address]: [chain.name.toLowerCase()] },\n      fiatCurrency: currency,\n      originComponentName: 'FundCard',\n    });\n  }, [\n    asset,\n    fundAmountFiat,\n    fundAmountCrypto,\n    selectedPaymentMethod,\n    selectedInputType,\n    projectId,\n    address,\n    chain,\n    currency,\n  ]);\n};\n"],"names":[],"mappings":";;;;;AAMO,MAAM,wBAAwB,MAAM;AACzC,QAAM,EAAE,WAAW,OAAO,aAAA,IAAiB,cAAA;AAC3C,QAAM,EAAE,SAAS,OAAO,aAAA,IAAiB,WAAA;AACzC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,IACE,eAAA;AAEJ,QAAM,QAAQ,gBAAgB;AAE9B,SAAO,QAAQ,MAAM;AACnB,QAAI,cAAc,QAAQ,YAAY,QAAW;AAC/C,aAAO;AAAA,IACT;AAEA,UAAM,aACJ,sBAAsB,SAAS,iBAAiB;AAElD,WAAO,gBAAgB;AAAA,MACrB;AAAA,MACA,QAAQ,CAAC,KAAK;AAAA,MACd,kBACE,sBAAsB,SAAS,OAAO,UAAU,IAAI;AAAA,MACtD,oBACE,sBAAsB,WAAW,OAAO,UAAU,IAAI;AAAA,MACxD,sBAAsB,+DAAuB;AAAA,MAC7C,WAAW,EAAE,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,YAAA,CAAa,EAAA;AAAA,MACjD,cAAc;AAAA,MACd,qBAAqB;AAAA,IAAA,CACtB;AAAA,EACH,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AACH;"}