{"version":3,"file":"OnchainKitProviderBoundary.js","sources":["../src/OnchainKitProviderBoundary.tsx"],"sourcesContent":["import {\n  Component,\n  type ComponentType,\n  type ErrorInfo,\n  type ReactNode,\n} from 'react';\nimport { sendAnalyticsPayload } from '@/core/analytics/utils/analyticsService';\nimport { ErrorEvent } from '@/core/analytics/types';\n\ntype Props = {\n  fallback?: ComponentType<{ error: Error }>;\n  children: ReactNode;\n};\n\ntype State = {\n  error: Error | null;\n};\n\nclass OnchainKitProviderBoundary extends Component<Props, State> {\n  state: State = {\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: Error): State {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('Uncaught error:', error, errorInfo);\n\n    sendAnalyticsPayload(ErrorEvent.ComponentError, {\n      component: 'OnchainKitProviderBoundary',\n      error: error.message,\n      metadata: {\n        message: error.message,\n        stack: errorInfo.componentStack,\n      },\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      if (this.props.fallback) {\n        const Fallback = this.props.fallback;\n        return <Fallback error={this.state.error} />;\n      }\n      return <h1>Sorry, we had an unhandled error</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default OnchainKitProviderBoundary;\n"],"names":[],"mappings":";;;;AAkBA,MAAM,mCAAmC,UAAwB;AAAA,EAAjE,cAAA;AAAA,UAAA,GAAA,SAAA;AACE,SAAA,QAAe;AAAA,MACb,OAAO;AAAA,IAAA;AAAA,EACT;AAAA,EAEA,OAAO,yBAAyB,OAAqB;AACnD,WAAO,EAAE,MAAA;AAAA,EACX;AAAA,EAEA,kBAAkB,OAAc,WAAsB;AACpD,YAAQ,MAAM,mBAAmB,OAAO,SAAS;AAEjD,yBAAqB,WAAW,gBAAgB;AAAA,MAC9C,WAAW;AAAA,MACX,OAAO,MAAM;AAAA,MACb,UAAU;AAAA,QACR,SAAS,MAAM;AAAA,QACf,OAAO,UAAU;AAAA,MAAA;AAAA,IACnB,CACD;AAAA,EACH;AAAA,EAEA,SAAS;AACP,QAAI,KAAK,MAAM,OAAO;AACpB,UAAI,KAAK,MAAM,UAAU;AACvB,cAAM,WAAW,KAAK,MAAM;AAC5B,eAAO,uBAAC,UAAA,EAAS,OAAO,KAAK,MAAM,MAAA,GAA5B,QAAA,OAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAAmC;AAAA,MAC5C;AACA,aAAO,uBAAC,QAAG,UAAA,mCAAA,GAAJ,QAAA,OAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA,GAAA,IAAoC;AAAA,IAC7C;AAEA,WAAO,KAAK,MAAM;AAAA,EACpB;AACF;"}