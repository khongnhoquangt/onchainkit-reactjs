{"version":3,"file":"WalletAdvancedQrReceive.js","sources":["../../../src/wallet/components/WalletAdvancedQrReceive.tsx"],"sourcesContent":["'use client';\n\nimport { CopyButton } from '@/internal/components/CopyButton';\nimport { PressableIcon } from '@/internal/components/PressableIcon';\nimport { QrCodeSvg } from '@/internal/components/QrCode/QrCodeSvg';\nimport { backArrowSvg } from '@/internal/svg/backArrowSvg';\nimport { copySvg } from '@/internal/svg/copySvg';\nimport { zIndex } from '@/styles/constants';\nimport { border, cn, color, pressable, text } from '@/styles/theme';\nimport { useCallback, useState } from 'react';\nimport type { WalletAdvancedQrReceiveProps } from '../types';\nimport { useWalletContext } from './WalletProvider';\n\nexport function WalletAdvancedQrReceive({\n  classNames,\n}: WalletAdvancedQrReceiveProps) {\n  const {\n    address,\n    setActiveFeature,\n    isActiveFeatureClosing,\n    setIsActiveFeatureClosing,\n  } = useWalletContext();\n\n  const [copyText, setCopyText] = useState('Copy');\n  const [copyButtonText, setCopyButtonText] = useState('Copy address');\n\n  const handleCloseQr = useCallback(() => {\n    setIsActiveFeatureClosing(true);\n  }, [setIsActiveFeatureClosing]);\n\n  const handleAnimationEnd = useCallback(() => {\n    if (isActiveFeatureClosing) {\n      setActiveFeature(null);\n      setIsActiveFeatureClosing(false);\n    }\n  }, [isActiveFeatureClosing, setActiveFeature, setIsActiveFeatureClosing]);\n\n  const resetAffordanceText = useCallback(() => {\n    setTimeout(() => {\n      setCopyText('Copy');\n      setCopyButtonText('Copy address');\n    }, 2000);\n  }, []);\n\n  const handleCopyButtonSuccess = useCallback(() => {\n    setCopyButtonText('Address copied');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  const handleCopyButtonError = useCallback(() => {\n    setCopyButtonText('Failed to copy address');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  const handleCopyIconSuccess = useCallback(() => {\n    setCopyText('Copied');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  const handleCopyIconError = useCallback(() => {\n    setCopyText('Failed to copy');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  return (\n    <div\n      data-testid=\"ockWalletAdvancedQrReceive\"\n      className={cn(\n        border.radius,\n        color.foreground,\n        text.headline,\n        'flex flex-col items-center justify-between',\n        'h-120 w-88 px-4 pt-3 pb-4',\n        isActiveFeatureClosing\n          ? 'fade-out slide-out-to-left-5 animate-out fill-mode-forwards ease-in-out'\n          : 'fade-in slide-in-from-left-5 linear animate-in duration-150',\n        classNames?.container,\n      )}\n      onAnimationEnd={handleAnimationEnd}\n    >\n      <div\n        className={cn(\n          'flex h-[34px] w-full flex-row items-center justify-between',\n          classNames?.header,\n        )}\n      >\n        <PressableIcon ariaLabel=\"Back button\" onClick={handleCloseQr}>\n          <div className=\"p-2\">{backArrowSvg}</div>\n        </PressableIcon>\n        <span>Scan to receive</span>\n        <div className=\"group relative\">\n          <CopyButton\n            label={copySvg}\n            copyValue={address ?? ''}\n            onSuccess={handleCopyIconSuccess}\n            onError={handleCopyIconError}\n            className={cn(\n              pressable.default,\n              border.radiusInner,\n              border.default,\n              'flex items-center justify-center p-2',\n            )}\n            aria-label=\"Copy your address by clicking the icon\"\n          />\n          <CopyButton\n            label={copyText}\n            copyValue={address ?? ''}\n            onSuccess={handleCopyIconSuccess}\n            onError={handleCopyIconError}\n            className={cn(\n              pressable.alternate,\n              text.legal,\n              color.foreground,\n              border.default,\n              border.radius,\n              zIndex.dropdown,\n              'absolute top-full right-0 mt-0.5 px-1.5 py-0.5 opacity-0 transition-opacity group-hover:opacity-100',\n            )}\n            aria-label=\"Copy your address by clicking the tooltip\"\n          />\n        </div>\n      </div>\n      <QrCodeSvg value={address} />\n      <CopyButton\n        copyValue={address ?? ''}\n        label={copyButtonText}\n        className={cn(\n          border.radius,\n          pressable.alternate,\n          'w-full p-3',\n          classNames?.copyButton,\n        )}\n        onSuccess={handleCopyButtonSuccess}\n        onError={handleCopyButtonError}\n        aria-label=\"Copy your address by clicking the button\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}