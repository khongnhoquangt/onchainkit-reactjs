{"version":3,"file":"WalletBottomSheet.js","sources":["../../../src/wallet/components/WalletBottomSheet.tsx"],"sourcesContent":["'use client';\n\nimport { Identity } from '@/identity/components/Identity';\nimport { background, cn } from '@/styles/theme';\nimport {\n  Children,\n  cloneElement,\n  isValidElement,\n  useCallback,\n  useMemo,\n} from 'react';\nimport type { WalletBottomSheetReact } from '../types';\nimport { useWalletContext } from './WalletProvider';\n\nexport function WalletBottomSheet({\n  children,\n  className,\n}: WalletBottomSheetReact) {\n  const { address, isSubComponentOpen, setIsSubComponentOpen } =\n    useWalletContext();\n\n  const childrenArray = useMemo(() => {\n    return Children.toArray(children).map((child) => {\n      if (isValidElement(child) && child.type === Identity) {\n        // @ts-expect-error - Testing undefined address case\n        return cloneElement(child, { address });\n      }\n      return child;\n    });\n  }, [children, address]);\n\n  const handleOverlayClick = useCallback(() => {\n    setIsSubComponentOpen(false);\n  }, [setIsSubComponentOpen]);\n\n  const handleEscKeyPress = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'Escape') {\n        setIsSubComponentOpen(false);\n      }\n    },\n    [setIsSubComponentOpen],\n  );\n\n  if (!address) {\n    return null;\n  }\n\n  return (\n    <>\n      {isSubComponentOpen && (\n        <div\n          className=\"fixed inset-0 z-40 bg-black bg-opacity-20\"\n          onClick={handleOverlayClick}\n          onKeyDown={handleEscKeyPress}\n          role=\"button\"\n          tabIndex={0}\n        />\n      )}\n      <div\n        className={cn(\n          background.default,\n          'fixed right-0 bottom-0 left-0 z-50',\n          'transform rounded-[20px_20px_0_0] p-4 transition-transform',\n          `${isSubComponentOpen ? 'translate-y-0' : 'translate-y-full'}`,\n          className,\n        )}\n        data-testid=\"ockWalletBottomSheet\"\n      >\n        {childrenArray}\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAcO,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AACF,GAA2B;AACzB,QAAM,EAAE,SAAS,oBAAoB,sBAAA,IACnC,iBAAA;AAEF,QAAM,gBAAgB,QAAQ,MAAM;AAClC,WAAO,SAAS,QAAQ,QAAQ,EAAE,IAAI,CAAC,UAAU;AAC/C,UAAI,eAAe,KAAK,KAAK,MAAM,SAAS,UAAU;AAEpD,eAAO,aAAa,OAAO,EAAE,SAAS;AAAA,MACxC;AACA,aAAO;AAAA,IACT,CAAC;AAAA,EACH,GAAG,CAAC,UAAU,OAAO,CAAC;AAEtB,QAAM,qBAAqB,YAAY,MAAM;AAC3C,0BAAsB,KAAK;AAAA,EAC7B,GAAG,CAAC,qBAAqB,CAAC;AAE1B,QAAM,oBAAoB;AAAA,IACxB,CAAC,UAA+C;AAC9C,UAAI,MAAM,QAAQ,UAAU;AAC1B,8BAAsB,KAAK;AAAA,MAC7B;AAAA,IACF;AAAA,IACA,CAAC,qBAAqB;AAAA,EAAA;AAGxB,MAAI,CAAC,SAAS;AACZ,WAAO;AAAA,EACT;AAEA,SACE,uBAAA,UAAA,EACG,UAAA;AAAA,IAAA,sBACC;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS;AAAA,QACT,WAAW;AAAA,QACX,MAAK;AAAA,QACL,UAAU;AAAA,MAAA;AAAA,MALZ;AAAA,MAAA;AAAA,MAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAQF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW;AAAA,UACT,WAAW;AAAA,UACX;AAAA,UACA;AAAA,UACA,GAAG,qBAAqB,kBAAkB,kBAAkB;AAAA,UAC5D;AAAA,QAAA;AAAA,QAEF,eAAY;AAAA,QAEX,UAAA;AAAA,MAAA;AAAA,MAVH;AAAA,MAAA;AAAA,MAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAWA,EAAA,GArBF,QAAA,MAAA;AAAA,IAAA,UAAA;AAAA,IAAA,YAAA;AAAA,IAAA,cAAA;AAAA,EAAA,GAAA,IAsBA;AAEJ;"}