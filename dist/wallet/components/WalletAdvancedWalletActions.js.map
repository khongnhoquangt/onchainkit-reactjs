{"version":3,"file":"WalletAdvancedWalletActions.js","sources":["../../../src/wallet/components/WalletAdvancedWalletActions.tsx"],"sourcesContent":["'use client';\n\nimport { useAnalytics } from '@/core/analytics/hooks/useAnalytics';\nimport { WalletEvent, WalletOption } from '@/core/analytics/types';\nimport { PressableIcon } from '@/internal/components/PressableIcon';\nimport { baseScanSvg } from '@/internal/svg/baseScanSvg';\nimport { disconnectSvg } from '@/internal/svg/disconnectSvg';\nimport { qrIconSvg } from '@/internal/svg/qrIconSvg';\nimport { refreshSvg } from '@/internal/svg/refreshSvg';\nimport { cn } from '@/styles/theme';\nimport { useCallback } from 'react';\nimport { useAccount, useDisconnect } from 'wagmi';\nimport { useWalletContext } from './WalletProvider';\nimport { usePortfolio } from '../hooks/usePortfolio';\nimport { RequestContext } from '@/core/network/constants';\n\ntype WalletAdvancedWalletActionsProps = {\n  classNames?: {\n    container?: string;\n    baseScanIcon?: string;\n    qrIcon?: string;\n    disconnectIcon?: string;\n    refreshIcon?: string;\n  };\n};\n\nexport function WalletAdvancedWalletActions({\n  classNames,\n}: WalletAdvancedWalletActionsProps) {\n  const { address } = useAccount();\n  const { handleClose, setActiveFeature, animations } = useWalletContext();\n  const { disconnect, connectors } = useDisconnect();\n  const { sendAnalytics } = useAnalytics();\n\n  const { refetch: refetchPortfolioData } = usePortfolio(\n    { address },\n    RequestContext.Wallet,\n  );\n\n  const handleAnalyticsOptionSelected = useCallback(\n    (option: WalletOption) => {\n      sendAnalytics(WalletEvent.OptionSelected, {\n        option,\n      });\n    },\n    [sendAnalytics],\n  );\n\n  const handleAnalyticsDisconnect = useCallback(\n    (walletProvider: string) => {\n      sendAnalytics(WalletEvent.Disconnect, {\n        component: 'WalletAdvanced',\n        walletProvider,\n      });\n    },\n    [sendAnalytics],\n  );\n\n  const handleTransactions = useCallback(() => {\n    handleAnalyticsOptionSelected(WalletOption.Explorer);\n    window.open(`https://basescan.org/address/${address}`, '_blank');\n  }, [address, handleAnalyticsOptionSelected]);\n\n  const handleDisconnect = useCallback(() => {\n    const walletProvider = connectors[0]?.name || 'unknown';\n    handleAnalyticsDisconnect(walletProvider);\n\n    handleClose();\n    for (const connector of connectors) {\n      disconnect({ connector });\n    }\n  }, [disconnect, connectors, handleClose, handleAnalyticsDisconnect]);\n\n  const handleQr = useCallback(() => {\n    handleAnalyticsOptionSelected(WalletOption.QR);\n    setActiveFeature('qr');\n  }, [setActiveFeature, handleAnalyticsOptionSelected]);\n\n  const handleRefreshPortfolioData = useCallback(async () => {\n    handleAnalyticsOptionSelected(WalletOption.Refresh);\n    await refetchPortfolioData();\n  }, [refetchPortfolioData, handleAnalyticsOptionSelected]);\n\n  return (\n    <div\n      data-testid=\"ockWalletAdvanced_WalletActions\"\n      className={cn(\n        'flex w-88 items-center justify-between px-4 py-3',\n        animations.content,\n        classNames?.container,\n      )}\n    >\n      <div className=\"flex items-center\">\n        <PressableIcon\n          ariaLabel=\"Open transaction history\"\n          onClick={handleTransactions}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_TransactionsButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.baseScanIcon)}\n          >\n            {baseScanSvg}\n          </div>\n        </PressableIcon>\n        <PressableIcon ariaLabel=\"Show QR code\" onClick={handleQr}>\n          <div\n            data-testid=\"ockWalletAdvanced_QrButton\"\n            className={cn('h-7 w-7 scale-110', classNames?.qrIcon)}\n          >\n            {qrIconSvg}\n          </div>\n        </PressableIcon>\n      </div>\n      <div className=\"flex items-center\">\n        <PressableIcon ariaLabel=\"Disconnect wallet\" onClick={handleDisconnect}>\n          <div\n            data-testid=\"ockWalletAdvanced_DisconnectButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.disconnectIcon)}\n          >\n            {disconnectSvg}\n          </div>\n        </PressableIcon>\n        <PressableIcon\n          ariaLabel=\"Refresh portfolio data\"\n          onClick={handleRefreshPortfolioData}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_RefreshButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.refreshIcon)}\n          >\n            {refreshSvg}\n          </div>\n        </PressableIcon>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}