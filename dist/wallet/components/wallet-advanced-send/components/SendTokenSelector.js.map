{"version":3,"file":"SendTokenSelector.js","sources":["../../../../../src/wallet/components/wallet-advanced-send/components/SendTokenSelector.tsx"],"sourcesContent":["'use client';\n\nimport { border, cn, color, pressable, text } from '@/styles/theme';\nimport { TokenBalance } from '@/token';\nimport { formatUnits } from 'viem';\nimport { useSendContext } from './SendProvider';\nimport { RequestContext } from '@/core/network/constants';\nimport { useAccount } from 'wagmi';\nimport { usePortfolio } from '@/wallet/hooks/usePortfolio';\n\ntype SendTokenSelectorProps = {\n  classNames?: {\n    container?: string;\n    tokenName?: string;\n    tokenValue?: string;\n    fiatValue?: string;\n    action?: string;\n  };\n};\n\nexport function SendTokenSelector({ classNames }: SendTokenSelectorProps) {\n  const { address } = useAccount();\n  const { data: portfolioData } = usePortfolio(\n    { address },\n    RequestContext.Wallet,\n  );\n  const tokenBalances = portfolioData?.tokenBalances;\n\n  const {\n    selectedToken,\n    handleTokenSelection,\n    handleResetTokenSelection,\n    setSelectedInputType,\n    handleCryptoAmountChange,\n    handleFiatAmountChange,\n  } = useSendContext();\n\n  if (!selectedToken) {\n    return (\n      <div className=\"mt-4 flex max-h-80 flex-col gap-2\">\n        <span className={cn(text.caption, color.foregroundMuted, 'uppercase')}>\n          Select a token\n        </span>\n        <div className=\"scrollbar-hidden overflow-y-auto\">\n          {tokenBalances?.map((token) => (\n            <TokenBalance\n              key={token.address}\n              token={token}\n              onClick={handleTokenSelection}\n              subtitle=\"\"\n              classNames={{\n                container: cn(\n                  pressable.default,\n                  border.radius,\n                  classNames?.container,\n                ),\n                ...classNames,\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <TokenBalance\n      token={selectedToken}\n      showImage={true}\n      subtitle=\"available\"\n      onClick={handleResetTokenSelection}\n      onActionPress={() => {\n        setSelectedInputType('crypto');\n        handleFiatAmountChange(String(selectedToken.fiatBalance));\n        handleCryptoAmountChange(\n          String(\n            formatUnits(\n              BigInt(selectedToken.cryptoBalance),\n              selectedToken.decimals,\n            ),\n          ),\n        );\n      }}\n      classNames={{\n        container: cn(\n          pressable.alternate,\n          border.radius,\n          classNames?.container,\n        ),\n        ...classNames,\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAoBO,SAAS,kBAAkB,EAAE,cAAsC;AACxE,QAAM,EAAE,QAAA,IAAY,WAAA;AACpB,QAAM,EAAE,MAAM,cAAA,IAAkB;AAAA,IAC9B,EAAE,QAAA;AAAA,IACF,eAAe;AAAA,EAAA;AAEjB,QAAM,gBAAgB,+CAAe;AAErC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,IACE,eAAA;AAEJ,MAAI,CAAC,eAAe;AAClB,WACE,uBAAC,OAAA,EAAI,WAAU,qCACb,UAAA;AAAA,MAAA,uBAAC,QAAA,EAAK,WAAW,GAAG,KAAK,SAAS,MAAM,iBAAiB,WAAW,GAAG,UAAA,iBAAA,GAAvE,QAAA,OAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA,GAAA,IAEA;AAAA,6BACC,OAAA,EAAI,WAAU,oCACZ,UAAA,+CAAe,IAAI,CAAC,UACnB;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC;AAAA,UACA,SAAS;AAAA,UACT,UAAS;AAAA,UACT,YAAY;AAAA,YACV,WAAW;AAAA,cACT,UAAU;AAAA,cACV,OAAO;AAAA,cACP,yCAAY;AAAA,YAAA;AAAA,YAEd,GAAG;AAAA,UAAA;AAAA,QACL;AAAA,QAXK,MAAM;AAAA,QADb;AAAA,QAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA;AAAA,QAAA;AAAA,MAAA,GAcD,GAhBH,QAAA,OAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA,GAAA,IAiBA;AAAA,IAAA,EAAA,GArBF,QAAA,MAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA,GAAA,IAsBA;AAAA,EAEJ;AAEA,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO;AAAA,MACP,WAAW;AAAA,MACX,UAAS;AAAA,MACT,SAAS;AAAA,MACT,eAAe,MAAM;AACnB,6BAAqB,QAAQ;AAC7B,+BAAuB,OAAO,cAAc,WAAW,CAAC;AACxD;AAAA,UACE;AAAA,YACE;AAAA,cACE,OAAO,cAAc,aAAa;AAAA,cAClC,cAAc;AAAA,YAAA;AAAA,UAChB;AAAA,QACF;AAAA,MAEJ;AAAA,MACA,YAAY;AAAA,QACV,WAAW;AAAA,UACT,UAAU;AAAA,UACV,OAAO;AAAA,UACP,yCAAY;AAAA,QAAA;AAAA,QAEd,GAAG;AAAA,MAAA;AAAA,IACL;AAAA,IAxBF;AAAA,IAAA;AAAA,IAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA;AAAA,IAAA;AAAA,EAAA;AA2BJ;"}