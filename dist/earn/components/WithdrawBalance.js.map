{"version":3,"file":"WithdrawBalance.js","sources":["../../../src/earn/components/WithdrawBalance.tsx"],"sourcesContent":["'use client';\nimport { getTruncatedAmount } from '@/earn/utils/getTruncatedAmount';\nimport { Skeleton } from '@/internal/components/Skeleton';\nimport { useCallback, useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport type { WithdrawBalanceReact } from '../types';\nimport { EarnBalance } from './EarnBalance';\nimport { useEarnContext } from './EarnProvider';\n\nexport function WithdrawBalance({ className }: WithdrawBalanceReact) {\n  const {\n    depositedBalance,\n    depositedBalanceStatus: status,\n    setWithdrawAmount,\n    vaultToken,\n  } = useEarnContext();\n  const { address } = useAccount();\n\n  const handleMaxPress = useCallback(() => {\n    if (depositedBalance) {\n      setWithdrawAmount(depositedBalance);\n    }\n  }, [depositedBalance, setWithdrawAmount]);\n\n  const balance = useMemo(() => {\n    if (!depositedBalance) {\n      return '0';\n    }\n    return getTruncatedAmount(depositedBalance.toString(), 4);\n  }, [depositedBalance]);\n\n  const title = useMemo(() => {\n    if (!address) {\n      return 'Wallet not connected';\n    }\n    if (!vaultToken) {\n      return <Skeleton className=\"h-6 w-24\" />;\n    }\n    if (status === 'pending') {\n      return (\n        <div className=\"flex gap-1\">\n          <Skeleton className=\"!bg-[var(--ock-bg-alternate-active)] h-6 w-12\" />\n          <span>{vaultToken?.symbol}</span>\n        </div>\n      );\n    }\n    return `${balance} ${vaultToken?.symbol}`;\n  }, [balance, vaultToken, address, status]);\n\n  const subtitle = useMemo(() => {\n    if (!address) {\n      return 'Connect wallet to withdraw';\n    }\n    return 'Available to withdraw';\n  }, [address]);\n\n  return (\n    <EarnBalance\n      className={className}\n      title={title}\n      subtitle={subtitle}\n      onActionPress={handleMaxPress}\n      showAction={balance !== '0'}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;;;AASO,SAAS,gBAAgB,EAAE,aAAmC;AACnE,QAAM;AAAA,IACJ;AAAA,IACA,wBAAwB;AAAA,IACxB;AAAA,IACA;AAAA,EAAA,IACE,eAAA;AACJ,QAAM,EAAE,QAAA,IAAY,WAAA;AAEpB,QAAM,iBAAiB,YAAY,MAAM;AACvC,QAAI,kBAAkB;AACpB,wBAAkB,gBAAgB;AAAA,IACpC;AAAA,EACF,GAAG,CAAC,kBAAkB,iBAAiB,CAAC;AAExC,QAAM,UAAU,QAAQ,MAAM;AAC5B,QAAI,CAAC,kBAAkB;AACrB,aAAO;AAAA,IACT;AACA,WAAO,mBAAmB,iBAAiB,SAAA,GAAY,CAAC;AAAA,EAC1D,GAAG,CAAC,gBAAgB,CAAC;AAErB,QAAM,QAAQ,QAAQ,MAAM;AAC1B,QAAI,CAAC,SAAS;AACZ,aAAO;AAAA,IACT;AACA,QAAI,CAAC,YAAY;AACf,aAAO,uBAAC,UAAA,EAAS,WAAU,WAAA,GAApB,QAAA,OAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA,GAAA,IAA+B;AAAA,IACxC;AACA,QAAI,WAAW,WAAW;AACxB,aACE,uBAAC,OAAA,EAAI,WAAU,cACb,UAAA;AAAA,QAAA,uBAAC,UAAA,EAAS,WAAU,gDAAA,GAApB,QAAA,OAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAAoE;AAAA,QACpE,uBAAC,QAAA,EAAM,UAAA,yCAAY,OAAA,GAAnB,QAAA,OAAA;AAAA,UAAA,UAAA;AAAA,UAAA,YAAA;AAAA,UAAA,cAAA;AAAA,QAAA,GAAA,IAA0B;AAAA,MAAA,EAAA,GAF5B,QAAA,MAAA;AAAA,QAAA,UAAA;AAAA,QAAA,YAAA;AAAA,QAAA,cAAA;AAAA,MAAA,GAAA,IAGA;AAAA,IAEJ;AACA,WAAO,GAAG,OAAO,IAAI,yCAAY,MAAM;AAAA,EACzC,GAAG,CAAC,SAAS,YAAY,SAAS,MAAM,CAAC;AAEzC,QAAM,WAAW,QAAQ,MAAM;AAC7B,QAAI,CAAC,SAAS;AACZ,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT,GAAG,CAAC,OAAO,CAAC;AAEZ,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA,eAAe;AAAA,MACf,YAAY,YAAY;AAAA,IAAA;AAAA,IAL1B;AAAA,IAAA;AAAA,IAAA;AAAA,MAAA,UAAA;AAAA,MAAA,YAAA;AAAA,MAAA,cAAA;AAAA,IAAA;AAAA,IAAA;AAAA,EAAA;AAQJ;"}