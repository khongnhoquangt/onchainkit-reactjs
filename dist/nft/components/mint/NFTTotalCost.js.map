{"version":3,"file":"NFTTotalCost.js","sources":["../../../../src/nft/components/mint/NFTTotalCost.tsx"],"sourcesContent":["import { infoSvg } from '@/internal/svg/infoSvg';\nimport { multiplyFloats } from '@/internal/utils/multiplyFloats';\nimport { useNFTContext } from '@/nft/components/NFTProvider';\nimport { background, border, cn, text } from '@/styles/theme';\nimport { formatAmount } from '@/token/utils/formatAmount';\nimport { type ReactNode, useCallback, useMemo, useState } from 'react';\n\ntype NFTTotalCostReact = {\n  className?: string;\n  label?: ReactNode;\n};\n\nexport function NFTTotalCost({\n  className,\n  label = 'Total cost',\n}: NFTTotalCostReact) {\n  const [isOverlayVisible, setIsOverlayVisible] = useState(false);\n  const { price, mintFee, quantity } = useNFTContext();\n\n  const toggleOverlay = useCallback(() => {\n    setIsOverlayVisible((prev) => !prev);\n  }, []);\n\n  const showOverlay = useCallback(() => {\n    setIsOverlayVisible(true);\n  }, []);\n\n  const hideOverlay = useCallback(() => {\n    setIsOverlayVisible(false);\n  }, []);\n\n  const overlay = useMemo(() => {\n    // only show overlay if mintFee\n    if (\n      price?.amount === undefined ||\n      price?.amountUSD === undefined ||\n      mintFee?.amount === undefined ||\n      mintFee.amountUSD === undefined\n    ) {\n      return null;\n    }\n\n    return (\n      <div\n        className={cn(\n          background.default,\n          border.radius,\n          border.defaultActive,\n          'absolute z-10 w-full border',\n        )}\n      >\n        <div\n          className={cn(\n            text.label2,\n            'flex items-center justify-between px-4 py-2',\n          )}\n        >\n          <div>NFT cost</div>\n          <div>\n            $\n            {formatAmount(\n              `${multiplyFloats(Number(price.amountUSD), quantity)}`,\n              {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              },\n            )}\n          </div>\n        </div>\n        <div\n          className={cn(\n            'flex items-center justify-between px-4 py-2',\n            text.label2,\n          )}\n        >\n          <div>Mint fee</div>\n          <div>\n            $\n            {formatAmount(\n              `${multiplyFloats(Number(mintFee.amountUSD), quantity)}`,\n              {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              },\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }, [mintFee, price, quantity]);\n\n  if (\n    !price?.amount ||\n    !price?.currency ||\n    !price?.amountUSD ||\n    !mintFee?.amount ||\n    !mintFee.amountUSD\n  ) {\n    return null;\n  }\n\n  return (\n    <div className=\"relative\">\n      <div\n        className={cn(\n          text.label2,\n          'flex items-center justify-between',\n          className,\n        )}\n      >\n        <div>{label}</div>\n        <div className=\"flex items-center gap-2\">\n          <div>\n            $\n            {formatAmount(\n              `${multiplyFloats(Number(price.amountUSD), quantity)}`,\n              {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              },\n            )}\n          </div>\n          {overlay && (\n            <button\n              type=\"button\"\n              data-testid=\"ockNFTTotalCostInfo\"\n              className=\"h-2.5 w-2.5 cursor-pointer object-cover\"\n              onClick={toggleOverlay}\n              onMouseEnter={showOverlay}\n              onMouseLeave={hideOverlay}\n            >\n              {infoSvg}\n            </button>\n          )}\n        </div>\n      </div>\n      {isOverlayVisible && overlay}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}