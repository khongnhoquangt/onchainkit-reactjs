"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _blacklist = _interopRequireDefault(require("blacklist"));

var _ink = require("ink");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const BLACKLIST_PROPS = ['percent', 'left', 'right', 'columns', 'character', 'rightPad'];

class Bar extends _react.default.Component {
  getString() {
    const {
      percent,
      columns,
      left,
      right,
      character,
      rightPad
    } = this.props;
    const screen = columns || process.stdout.columns || 80;
    const space = screen - right - left;
    const max = Math.min(Math.floor(space * percent), space);
    const chars = character.repeat(max);

    if (!rightPad) {
      return chars;
    }

    return chars + ' '.repeat(space - max);
  }

  render() {
    const props = (0, _blacklist.default)(this.props, BLACKLIST_PROPS);
    return _react.default.createElement(_ink.Text, props, this.getString());
  }

}

Bar.defaultProps = {
  columns: 0,
  percent: 1,
  left: 0,
  right: 0,
  character: 'â–ˆ',
  rightPad: false
};
Bar.propTypes = {
  columns: _propTypes.default.number,
  percent: _propTypes.default.number,
  left: _propTypes.default.number,
  right: _propTypes.default.number,
  character: _propTypes.default.string,
  rightPad: _propTypes.default.bool
};
var _default = Bar;
exports.default = _default;