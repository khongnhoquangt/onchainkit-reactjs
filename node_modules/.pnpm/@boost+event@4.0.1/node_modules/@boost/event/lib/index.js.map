{"version":3,"file":"index.js","sources":["../src/constants.ts","../src/debug.ts","../src/EventError.ts","../src/BaseEvent.ts","../src/BailEvent.ts","../src/ConcurrentEvent.ts","../src/Event.ts","../src/WaterfallEvent.ts"],"sourcesContent":null,"names":["WILDCARD_SCOPE","EVENT_NAME_PATTERN","debug","createInternalDebugger","errors","LISTENER_INVALID","NAME_INVALID","EventError","createScopedError","BaseEvent","constructor","name","listeners","Map","validateName","__DEV__","clearListeners","scope","getListeners","clear","key","has","set","Set","get","getScopes","keys","listen","listener","add","validateListener","unlisten","once","func","handler","args","delete","type","match","BailEvent","emit","some","ConcurrentEvent","Promise","all","map","Event","forEach","WaterfallEvent","arg","reduce","nextValue"],"mappings":"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"}