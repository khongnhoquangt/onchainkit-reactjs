{"version":3,"file":"RotatingFileTransport.cjs","sources":["../../src/transports/RotatingFileTransport.ts"],"sourcesContent":null,"names":["DAYS_IN_WEEK","RotatingFileTransport","FileTransport","constructor","args","lastTimestamp","formatTimestamp","Date","now","blueprint","schemas","string","rotation","oneOf","ms","options","date","timestamp","getFullYear","String","getMonth","padStart","firstDay","getDay","offsetDate","getDate","Math","floor","getHours","checkIfNeedsRotation","lastSize","maxSize","closeStreamAndRotateFile","getRotatedFileName","name","path","ext","rotateFile"],"mappings":";;;;;;AAIA,MAAMA,YAAY,GAAG,CAAC,CAAA;AAOf,MAAMC,qBAAqB,SAASC,2BAAa,CAA+B;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;IAAA,IAC5EC,CAAAA,aAAa,GAAW,IAAI,CAACC,eAAe,CAACC,IAAI,CAACC,GAAG,EAAE,CAAC,CAAA;AAAA,GAAA;EAEzDC,SAASA,CAACC,OAAgB,EAA2C;IAC7E,MAAM;AAAEC,MAAAA,MAAAA;AAAO,KAAC,GAAGD,OAAO,CAAA;IAE1B,OAAO;AACN,MAAA,GAAG,KAAK,CAACD,SAAS,CAACC,OAAO,CAAC;AAC3BE,MAAAA,QAAQ,EAAED,MAAM,EAAE,CAACE,KAAK,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAA;KACjE,CAAA;AACF,GAAA;;AAEA;AACD;AACA;EACCP,eAAeA,CAACQ,EAAU,EAAU;IACnC,MAAM;AAAEF,MAAAA,QAAAA;KAAU,GAAG,IAAI,CAACG,OAAO,CAAA;AACjC,IAAA,MAAMC,IAAI,GAAG,IAAIT,IAAI,CAACO,EAAE,CAAC,CAAA;IACzB,IAAIG,SAAS,GAAI,CAAA,EAAED,IAAI,CAACE,WAAW,EAAG,CAAA,EAAEC,MAAM,CAACH,IAAI,CAACI,QAAQ,EAAE,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,CAAC,CAAA,CAAA;IAEtF,IAAIT,QAAQ,KAAK,SAAS,EAAE;AAC3B,MAAA,OAAOK,SAAS,CAAA;AACjB,KAAA;;AAEA;AACA;IACA,IAAIL,QAAQ,KAAK,QAAQ,EAAE;MAC1B,MAAMU,QAAQ,GAAG,IAAIf,IAAI,CAACS,IAAI,CAACE,WAAW,EAAE,EAAEF,IAAI,CAACI,QAAQ,EAAE,EAAE,CAAC,CAAC,CAACG,MAAM,EAAE,CAAA;MAC1E,MAAMC,UAAU,GAAGR,IAAI,CAACS,OAAO,EAAE,GAAGH,QAAQ,GAAG,CAAC,CAAA;AAEhDL,MAAAA,SAAS,IAAK,CAAA,EAAA,EAAIS,IAAI,CAACC,KAAK,CAACH,UAAU,GAAGxB,YAAY,CAAC,GAAG,CAAE,CAAC,CAAA,CAAA;AAE7D,MAAA,OAAOiB,SAAS,CAAA;AACjB,KAAA;AAEAA,IAAAA,SAAS,IAAIE,MAAM,CAACH,IAAI,CAACS,OAAO,EAAE,CAAC,CAACJ,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;IAEpD,IAAIT,QAAQ,KAAK,OAAO,EAAE;AACzB,MAAA,OAAOK,SAAS,CAAA;AACjB,KAAA;AAEAA,IAAAA,SAAS,IAAK,CAAGE,CAAAA,EAAAA,MAAM,CAACH,IAAI,CAACY,QAAQ,EAAE,CAAC,CAACP,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,CAAC,CAAA,CAAA;AAE3D,IAAA,OAAOJ,SAAS,CAAA;AACjB,GAAA;;AAEA;AACD;AACA;AACoBY,EAAAA,oBAAoBA,GAAG;IACzC,IACC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACf,OAAO,CAACgB,OAAO,IACpC,IAAI,CAACzB,eAAe,CAACC,IAAI,CAACC,GAAG,EAAE,CAAC,KAAK,IAAI,CAACH,aAAa,EACtD;MACD,IAAI,CAAC2B,wBAAwB,EAAE,CAAA;AAChC,KAAA;AACD,GAAA;;AAEA;AACD;AACA;AACoBC,EAAAA,kBAAkBA,GAAW;IAC/C,MAAMC,IAAI,GAAG,IAAI,CAACC,IAAI,CAACD,IAAI,CAAC,IAAI,CAAC,CAAA;IACjC,MAAME,GAAG,GAAG,IAAI,CAACD,IAAI,CAACC,GAAG,CAAC,IAAI,CAAC,CAAA;IAE/B,OAAQ,CAAA,EAAEF,IAAK,CAAG,CAAA,EAAA,IAAI,CAAC7B,aAAc,CAAA,CAAA,EAAG+B,GAAI,CAAC,CAAA,CAAA;AAC9C,GAAA;;AAEA;AACD;AACA;AACoBC,EAAAA,UAAUA,GAAG;IAC/B,KAAK,CAACA,UAAU,EAAE,CAAA;;AAElB;AACA,IAAA,IAAI,CAAChC,aAAa,GAAG,IAAI,CAACC,eAAe,CAACC,IAAI,CAACC,GAAG,EAAE,CAAC,CAAA;AACtD,GAAA;AACD;;;;"}